<!DOCTYPE html>
<html>
<head>
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-7XDBP64GBJ"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-7XDBP64GBJ');
	</script>
	
	<title>Thank you</title>
	
    <style>
        body, html {
            height: 100%;
            margin: 0;
            font-family: 'Comic Sans MS', 'Chalkboard SE', 'Comic Neue', sans-serif;
            color: white;
            overflow: hidden; /* Disable scroll */
        }

        .bg-image {
            background-image: url("Thank_you_page_cute_cat.png");
            height: 100%; 
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

        .content {
            position: absolute;
            top: 10%; /* Adjust position from the top */
            right: 0%; /* Adjust position from the right */
            text-align: center; /* Center text alignment */
            width: 35%; /* Adjust width */
            padding: 0px;
        }

        .footer {
            position: fixed;
            bottom: 30px;
            left: 30px;
            padding: 10px;
            background-color: rgba(55, 55, 55, 0.7);
            border-radius: 20px;
            display: flex;
            justify-content: space-between;
            font-family: "Segoe UI", sans-serif;
        }

        .footer a {
            color: white;
            text-decoration: none;
            margin: 0 2px;
            font-size: 100%;
        }

        .footer a:not(:last-child):after {
            content: "|";
            margin-left: 3px;
        }
    </style>
	
	<script>
        // Function to get a cookie by name
        function getCookie(name) {
            let nameEQ = name + "=";
            let ca = document.cookie.split(';');
            for(let i=0;i < ca.length;i++) {
                let c = ca[i];
                while (c.charAt(0)==' ') c = c.substring(1,c.length);
                if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
            }
            return null;
        }

        // Get the 'trackingParams' cookie and parse it into a JavaScript object
        let cookieStr = getCookie('trackingParams');
        let data = cookieStr ? JSON.parse(cookieStr) : {};

        // Based on the utm_source, execute the correct pixel
        window.onload = function() {
            
        }

        window.onload = function() {
			if (data.utm_source == 'am') {
                // URL to be fired
				const postbackURL = "https://nossl.dergoodting.com/pixel?unique_req=" + data['click_id'];

				// Fire the POSTback URL
				fetch(postbackURL)
					.then((response) => {
						// Handle response if needed
						console.log("POSTback successful");
					})
					.catch((error) => {
						// Handle response if needed
						console.log("POSTback Error");
					})
					
				// Track custom install event
				gtag('event', 'custom_extension_install', {
					'event_category': 'extension_tracking',
					'event_action': 'install',
					'event_label': data['utm_source']
					'custom_subsource' : data['source_id']
					'custom_click_id' : data['click_id']
				});
            } else if (data.utm_source == 'link') {
                // Execute "link" pixel code
            } else {
				// Track custom redirect event
				gtag('event', 'custom_extension_install', {
					'event_category': 'extension_tracking',
					'event_action': 'install',
					'event_label': data['utm_source']
				});
			}
		
			
			
			
        }
    </script>
</head>
<body>

	<div class="bg-image"></div>

	<div class="content">
		<h1>Thank you for installing our extension have a meeeow magical day</h1>
	</div>

	<div class="footer">
		<a href="https://www.cutecatstab.com/aboutus">About</a>
		<a href="https://www.cutecatstab.com/privacypolicy">Privacy</a>
		<a href="https://www.cutecatstab.com/termsofservice">Terms</a>
	</div>

</body>
</html>
